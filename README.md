# json_speller

### 답답하면 니가 뛰던지
의 '니'를 맡게 되었습니다.

마음에 쏙드는 한국어 맞춤법교정기가 없어서... 만들어보는 중이고... 시험삼아 영어를 먼저 만들어 보았습니다!

T5 기반 :<br>
시간 : 2시간 반?<br>
결과 : 잘 처리가 되긴하나, 어떤 비속어는 'hate-speech'로, 어떤 비속어는 그대로 표기 (이건 추후 후처리로 해도 상관없으니...)<br><br>
ChatGPT 활용 오타처리 시간 (프롬프트 1) :<br>
시간 : 2시간 반<br>결과 : 잘 다듬긴하나, 너무 잘 다듬음… 비속어의 경우 순화하여 풀어서 설명을 함.<br>
(그대로 사용하면 원본 훼손 우려)<br><br>
ChatGPT 활용 오타처리 시간 (프롬프트 2) :<br>
시간 : 2시간 반<br>
결과 : 마찬가지로 잘 다듬긴 함. 욕 -> [OFF]로 필터링, 한개의 단어가 텍스트의 전부일 때 -> 그 단어를 설명해버림<br>
그대로 사용하면 원본 훼손 우려<br><br>
기존 오타처리 모듈 + 프롬프트 변형<br>
시간 : 3시간 50분<br>
결과 : 프롬프트 다시 수정하여 시도해보긴 해야하나, 텍스트가 사라져버림...<br><br>
룰베이스 + khaiii활용 스페이싱 모듈<br>
시간 : 22초<br>
결과 : 스페이싱은 95% 정도 처리 (룰을 조금 더 만들면 괜찮을 것 같음) / 문자사이 마침표나 조합만 요하는 오타는 잘 처리됨, 이외 오타는 처리가 어려워 타 모델과 혼용 필요.<br><br>
symspellpy-ko<br>
시간 : 약 20분 정도<br>
결과 : 단어장을 받아오거나 직접 만들어서 넣어주는 방식이라서 누락되는 단어 존재.<br>
(완벽한 단어장이 존재한다면… 이론상으로는 제일 좋은 모델이 아닐지…)<br><br>
부산대 api<br>
시간 : 약 40~1시간 정도<br>
결과 : 띄어쓰기, 비속어 순화, 문장 분리에서는 뛰어난 성능을 보임 / 신조어, 사람명 등은 이해하지 못해 잘못된 맞춤법을 반환<br><br>
soynlp<br>
시간 : soynlp모델 학습 (AI허브 3만 문장 : 약 20분)  + 우리 데이터 전처리 : 3초<br>
결과 :<br>
-> 신조어 : 뉴진스, 탕후루 << 띄어쓰기 유지 /  스포티파이 -> 스포 티파이(학습 data를 추가하면 개선 될지도)<br>
-> 기타 일반 문장 : 친구들아 -> 친구 들아, 오랜만임 -> 오랜 만임. 옳지 못한 띄어쓰기.<br><br>
hanspell -> 거의 모두에게서 에러 발생 - 확인 불가<br>
오타처리에 대해 종합적으로 만족스러운 툴은 아직 없습니다.<br><br><br>
그러다가 우리가 단어들에 대한 오타를 만들어서 dictionary에 넣어줘서 치환해버리면 어떨까라는 생각을 했습니다..만 이건 너무 비효율적일거라 생각해서 개선시킨 아래 방식은 효율적일지, 저희가 생각하지 못한 문제는 없을지 의견 한번 부탁드립니다.<br><br>
코드도 일단 영어 베이스로 간단하게 짜보았습니다. (조금 더 고도화해서 깃헙에 올리게 되었네요...!)<br><br>
***Facts & Hypothesis***<br>
키워드는 명사형만 활용 가능<br>
키워드 추출 시 나머지 단어들은 일단 필요는 없음 (감정분석할 때는… 다시 생각해보기)<br>
키워드라 함은 적어도 2회 이상 등장해야 키워드라고 생각할 수 있음 (?)<br>
1회만 등장한 명사의 경우, 맞춤법이 맞다면 (한글 단어장에 있다면) 키워드로 추출할 것이고 아니라면 제외할 것임 (포함한다고 해도 유저가 봤을 때: “어 이게뭐지? 내가 적은 단어가 아닌데?” 라고 할 수 있음<br><br>
***How to***<br>
유저 개개인별로 처리를 한다고 가정함<br>
해당 유저가 한 주 간 작성한 모든 텍스트를 모아서, 2회 이상 출현한 명사들만 리스트에 넣어줌<br>
해당 명사들의 오타범주에 있는 단어들을 텍스트에서 추출하여 key (명사) - value_array (오타범주 단어)의 형식으로 dictionary에 담아줌<br>
오타범주에 있는 단어들이란 -><br>
올바른 단어가 “머신러닝”이라고 할 때, “러닝머신”, “머러닝신”, “머ㅅㅣㄴ러닝” 등의 오타들.<br>
단, 오타범주에 있는 단어들이 해당 텍스트에서 1회만 출현해야 함.<br>
2회 이상 출현 시 해당 단어는 위에서 언급한 명사 리스트에 넣어줌.<br>
<\t>-> 러닝머신 같은 실제 단어가 있기 때문에 “머신러닝”이 다 회 등장하고 “러닝머신”도 2회 이상 등장하였을 때 유저가 러닝머신을 의도했을 확률이 큼<br>
<\t>-> 추후 러닝머신이라는 단어를 사용했을 때 머신러닝이라고 인식되게 하면 안되기에, 단어장에 포함된 실제 단어들은 제외시킴.<br>
dictionary value_array 단어들을 iterate하며 string에서 명사와 replace 하여줌.<br><br>
***Pros***<br>
모든 형태소의 단어를 오타처리기에 주는 프로세스가 아니기 때문에, 어느정도 속도와 메모리 효율 개선이 예상됨<br>
유저 개인별 자주쓰는 오타 json파일 생성이 가능하며, 지속적으로 활용 가능. (오타처리의 개인화?)<br>
문장에 있는 명사로 인식된 단어들에 대해서만 도는 프로세스이기 때문에 문장이 길어지더라도 처리속도가 비례해서 길어지진 않음.<br>
개인화하지 않는다면, 다양한 variation의 오타를 빠른 시일 내 수집 가능<br>
<t>-> 신조어 사전을 구축하지 않아도 됨? (사람들이 자주 사용되는 단어는 명사리스트에 들어갈테니)<br><br>
***Cons***<br>
신조어를 포함한 완벽한 단어장의 존재가 불분명함 (99%의 확률로 그런건 없을 것이라고 생각함)<br>
누락되는 명사 발생 가능<br>
해당 방식을 이후에도 지속적으로 활용할 경우, 개인별 오타리스트가 방대해질 가능성이 있음.<br>
<\t>-> 이 경우 단어 하나별로 도는 시간이 길어질 가능성이 큼.<br>
<\t>-> 하지만… 한가지 명사에 대해서 나오는 오타 variation이 그렇게 많을까…? 라는 생각<br>
***유저들의 행동이 모든게 계획대로 돌아가야 함.***
